!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.squatch=e():t.squatch=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=135)}([function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(40)("wks"),o=n(28),i=n(1).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return l}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return h});var r=n(53),o=n.n(r),i=n(47),s=n.n(i),a=n(75),c=n.n(a);function u(t,e){if(!f(t))return!1;var n=c()(t);return s()(e)?e.reduce(function(t,e){return t&&n.indexOf(e)>=0},!0):t.hasOwnProperty(e)}function f(t){return"object"===o()(t)}function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){if(!u(t,n))throw new Error(e+" is required")}),!0}function p(t){if(!f(t))throw new Error("config must be an object");if(!u(t,"tenantAlias"))throw new Error("tenantAlias not provided");return{tenantAlias:t.tenantAlias,domain:u(t,"domain")&&t.domain||"https://app.referralsaasquatch.com",debug:u(t,"debug")&&t.debug||!1}}function h(t){if(!f(t))throw new Error("Widget properties must be an object");if(!l(t,"user"))throw new Error("Required properties missing.");return t}},function(t,e,n){var r=n(1),o=n(0),i=n(24),s=n(14),a=n(13),c=function(t,e,n){var u,f,l,p=t&c.F,h=t&c.G,d=t&c.S,v=t&c.P,y=t&c.B,m=t&c.W,g=h?o:o[e]||(o[e]={}),w=g.prototype,b=h?r:d?r[e]:(r[e]||{}).prototype;for(u in h&&(n=e),n)(f=!p&&b&&void 0!==b[u])&&a(g,u)||(l=f?b[u]:n[u],g[u]=h&&"function"!=typeof b[u]?n[u]:y&&f?i(l,r):m&&b[u]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((g.virtual||(g.virtual={}))[u]=l,t&c.R&&w&&!w[u]&&s(w,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(82);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n(31),o=n.n(r),i=n(30);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={Accept:"application/json","Content-Type":"application/json"};return e&&(n["X-SaaSquatch-User-Token"]=e),u(i.get(t).withCredentials().set(n)).then(function(t){return t.headers["content-type"]&&function(t,e,n){"number"!=typeof n&&(n=0);return!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t.headers["content-type"].toLowerCase(),"application/json")?JSON.parse(t.text):t.text},function(t){var e=t.response;throw JSON.parse(e.text)})}function a(t,e,n){var r={Accept:"application/json","Content-Type":"application/json"};return n&&(r["X-SaaSquatch-User-Token"]=n),u(i.post(t).send(e).set(r)).then(function(t){var e=t.text;return e?JSON.parse(e):e},function(t){var e;try{e=JSON.parse(t.response.text)}catch(e){throw t||e}throw e})}function c(t,e,n){var r={Accept:"application/json","Content-Type":"application/json","X-SaaSquatch-Referrer":window?window.location.href:""};return n&&(r["X-SaaSquatch-User-Token"]=n),u(i.put(t).withCredentials().send(e).set(r)).then(function(t){var e=t.text;return e?JSON.parse(e):e},function(t){var e;try{e=JSON.parse(t.response.text)}catch(e){throw t||e}throw e})}function u(t){return new o.a(function(e,n){t.on("error",n),t.end(function(t,r){t?n(t):e(r)})})}},function(t,e,n){t.exports=n(140)},function(t,e,n){var r=n(5),o=n(57),i=n(36),s=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(10),o=n(26);t.exports=n(12)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(90),o=n(38);t.exports=function(t){return r(o(t))}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(138)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(137))},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(144),o=n(131);function i(e){return t.exports=i=o?r:function(t){return t.__proto__||r(t)},i(e)}t.exports=i},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(31);function o(t,e,n,o,i,s,a){try{var c=t[s](a),u=c.value}catch(t){return void n(t)}c.done?e(u):r.resolve(u).then(o,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new r(function(r,i){var s=t.apply(e,n);function a(t){o(s,r,i,a,c,"next",t)}function c(t){o(s,r,i,a,c,"throw",t)}a(void 0)})}}},function(t,e,n){var r=n(25);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(60),o=n(41);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(10).f,o=n(13),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var o=n(122),i=n(123),s=n(74),a=n(124),c=n(126);function u(){}var f=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=m,f.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var l="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function p(t){if(!s(t))return t;var e=[];for(var n in t)h(e,n,t[n]);return e.join("&")}function h(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){h(t,e,n)});else if(s(n))for(var r in n)h(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function d(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;i<s;++i)-1==(n=(e=o[i]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function v(t){return/[\/+]json($|[^-\w])/.test(t)}function y(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,r,o,i=t.split(/\r?\n/),s={},a=0,c=i.length;a<c;++a)-1!==(e=(n=i[a]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),o=l(n.slice(e+1)),s[r]=o);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function m(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,r=null;try{r=new y(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)})}function g(t,e,n){var r=f("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}f.serializeObject=p,f.parseString=d,f.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":p,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},a(y.prototype),y.prototype._parseBody=function(t){var e=f.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&v(this.type)&&(e=f.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},y.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},f.Response=y,o(m.prototype),i(m.prototype),m.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},m.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},m.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,n,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},m.prototype.query=function(t){return"string"!=typeof t&&(t=p(t)),t&&this._query.push(t),this},m.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},m.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},m.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},m.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},m.prototype.buffer=m.prototype.ca=m.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},m.prototype.pipe=m.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},m.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},m.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||u,this._finalizeQueryString(),this._end()},m.prototype._end=function(){var t=this,e=this.xhr=f.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||f.serialize[o?o.split(";")[0]:""];!i&&v(o)&&(i=f.serialize["application/json"]),i&&(n=i(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},f.agent=function(){return new c},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){c.prototype[t.toLowerCase()]=function(e,n){var r=new f.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),c.prototype.del=c.prototype.delete,f.get=function(t,e,n){var r=f("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},f.head=function(t,e,n){var r=f("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},f.options=function(t,e,n){var r=f("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.del=g,f.delete=g,f.patch=function(t,e,n){var r=f("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.post=function(t,e,n){var r=f("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.put=function(t,e,n){var r=f("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},function(t,e,n){t.exports=n(108)},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var r=n(9),o=n.n(r),i=n(54),s=n.n(i),a=n(23),c=n.n(a),u=n(6),f=n.n(u),l=n(7),p=n.n(l),h=n(55),d=n.n(h),v=n(18),y=n.n(v),m=n(33),g=n.n(m),w=n(56),b=n.n(w),x=n(16),_=n.n(x),E=n(80),O=n(34),T=_()("squatch-js:POPUPwidget"),k=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".squatchpop";return f()(this,e),(n=d()(this,y()(e).call(this,t))).triggerElement=document.querySelector(r),n.triggerElement&&(n.triggerElement.onclick=function(){n.open()}),n.triggerWhenCTA=document.querySelector(".squatchpop"),"#cta"===r&&n.triggerWhenCTA&&(n.triggerWhenCTA.onclick=function(){n.open()}),n.popupdiv=document.createElement("div"),n.popupdiv.id="squatchModal",n.popupdiv.setAttribute("style","display: none; position: fixed; z-index: 1; padding-top: 5%; left: 0; top: -2000px; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);"),n.popupcontent=document.createElement("div"),n.popupcontent.setAttribute("style","margin: auto; width: 80%; max-width: 500px; position: relative;"),n.popupdiv.onclick=function(t){n._clickedOutside(t)},n}return b()(e,t),p()(e,[{key:"load",value:function(){this.popupdiv.appendChild(this.popupcontent),document.body.appendChild(this.popupdiv),this.popupcontent.appendChild(this.frame);var t=this.frame.contentWindow.document;t.open(),t.write(this.content),t.write('<script src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.x"><\/script>'),t.close(),T("Popup template loaded into iframe"),this._setupResizeHandler()}},{key:"reload",value:function(t,e){var n=this,r=t.email,o=t.firstName,i=t.lastName,s=this.frame.contentWindow.document;this.widgetApi.cookieUser({user:{email:r||null,firstName:o||null,lastName:i||null},engagementMedium:"POPUP",widgetType:this.type,jwt:e}).then(function(t){var e=t.template;if(e){n.content=e;var o=s.createElement("button"),i=s.getElementsByClassName("squatch-register")[0];i&&(o.className="btn btn-primary",o.id="show-stats-btn",o.textContent="REFERRER_WIDGET"===n.type?"Show Stats":"Show Reward",o.setAttribute("style","margin-top: 10px; max-width: 130px; width: 100%;"),o.onclick=function(){n.load(),n.open()},i.style.paddingTop="30px",i.innerHTML="<p><strong>".concat(r,"</strong><br>Has been successfully registered</p>"),i.appendChild(o))}}).catch(function(t){var e=t.message;T("".concat(e))})}},{key:"_setupResizeHandler",value:function(){var t=this,e=this.popupdiv,n=this.frame,r=n.contentWindow;if(!r)throw new Error("Frame needs a content window");var i=r.document;Object(O.a)(i,c()(o.a.mark(function a(){var c;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i.body.style.overflowY="hidden",e.style.visibility="hidden",e.style.display="block",n.height="".concat(i.body.offsetHeight,"px"),c=new r.ResizeObserver(function(t){var r=!0,o=!1,i=void 0;try{for(var a,c=s()(t);!(r=(a=c.next()).done);r=!0){var u=a.value,f=u.contentRect,l=(f.height,f.top),p=f.bottom+l;n.height=p+"",u.target.style="",window.innerHeight>n.height?e.style.paddingTop="".concat((window.innerHeight-n.height)/2,"px"):e.style.paddingTop="5px"}}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}),o.t0=c,o.next=8,t._findInnerContainer();case 8:o.t1=o.sent,o.t0.observe.call(o.t0,o.t1);case 10:case"end":return o.stop()}},a,this)})))}},{key:"open",value:function(){var t=this,e=this.popupdiv,n=this.frame.contentWindow;if(!n)throw new Error("Squatch.js has an empty iframe");var r=n.document;Object(O.a)(r,function(){var o=n.squatch||n.widgetIdent,i=r.getElementById("cta");i&&i.parentNode.removeChild(i),e.style.visibility="visible",e.style.top="0px",t._loadEvent(o),T("Popup opened")})}},{key:"close",value:function(){this.popupdiv.style.visibility="hidden",this.popupdiv.style.top="-2000px",T("Popup closed")}},{key:"_clickedOutside",value:function(t){t.target===this.popupdiv&&this.close()}},{key:"_error",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modal",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g()(y()(e.prototype),"_error",this).call(this,t,n,r||"body { margin: 0; } .modal { box-shadow: none; border: 0; }")}}]),e}(E.a)},function(t,e,n){var r=n(150),o=n(153),i=(n(18),n(156));function s(e,n,a){return"undefined"!=typeof Reflect&&o?t.exports=s=o:t.exports=s=function(t,e,n){var o=i(t,e);if(o){var s=r(o,e);return s.get?s.get.call(n):s.value}},s(e,n,a||e)}t.exports=s},function(t,e,n){"use strict";
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  *
  */
function r(t,e){var n,r=[],o=t,i=o.documentElement.doScroll,s=(i?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);return s||o.addEventListener("DOMContentLoaded",n=function(){for(o.removeEventListener("DOMContentLoaded",n),s=!0;n=r.shift();)n()}),s?setTimeout(e,0):r.push(e)}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(11),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(40)("keys"),o=n(28);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(0),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(20)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(2)},function(t,e,n){var r=n(1),o=n(0),i=n(20),s=n(42),a=n(10).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(25);function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var r=n(17),o=n.n(r),i=n(6),s=n.n(i),a=n(7),c=n.n(a),u=n(8),f=n(3),l=function(){function t(e){s()(this,t);var n=e,r=Object(f.d)(n);this.tenantAlias=r.tenantAlias,this.domain=r.domain}return c()(t,[{key:"cookieUser",value:function(t){var e=t.widgetType,n=t.engagementMedium,r=void 0===n?"POPUP":n,i=t.jwt,s=t.user,a=encodeURIComponent(this.tenantAlias),c=p({widgetType:e,engagementMedium:r}),f="/api/v1/".concat(a,"/widget/user/cookie_user").concat(c),l=this.domain+f;return Object(u.c)(l,o()(s||{}),i)}},{key:"upsertUser",value:function(t){var e=t,n=Object(f.e)(e),r=n.widgetType,i=n.engagementMedium,s=void 0===i?"POPUP":i,a=n.jwt,c=n.user,l=encodeURIComponent(this.tenantAlias),h=encodeURIComponent(c.accountId),d=encodeURIComponent(c.id),v=p({widgetType:r,engagementMedium:s}),y="/api/v1/".concat(l,"/widget/account/").concat(h,"/user/").concat(d,"/upsert").concat(v),m=this.domain+y;return Object(u.c)(m,o()(c),a)}},{key:"render",value:function(t){var e=t,n=Object(f.e)(e),r=n.widgetType,o=n.engagementMedium,i=void 0===o?"POPUP":o,s=n.jwt,a=n.user,c=encodeURIComponent(this.tenantAlias),l=encodeURIComponent(a.accountId),h=encodeURIComponent(a.id),d=p({widgetType:r,engagementMedium:i}),v="/api/v1/".concat(c,"/widget/account/").concat(l,"/user/").concat(h,"/render").concat(d),y=this.domain+v;return Object(u.a)(y,s)}},{key:"invite",value:function(t){var e=t.emailList,n=void 0===e?[]:e,r=t.userId,i=t.accountId,s=t.tenantAlias,a=encodeURIComponent(s),c="/api/v1/".concat(a,"/mail/referralinvite"),f=this.domain+c,l={sendingAccountId:i,sendingUserId:r,recipients:n};return Object(u.b)(f,o()(l))}},{key:"squatchReferralCookie",value:function(){var t=encodeURIComponent(this.tenantAlias),e="".concat(this.domain,"/a/").concat(t,"/widgets/squatchcookiejson");return Object(u.a)(e)}}]),t}();function p(t){var e=t.widgetType,n=t.engagementMedium;return(e?"?widgetType=".concat(encodeURIComponent(e)):"")+"".concat(e?"&":"?","engagementMedium=").concat(encodeURIComponent(n))}},function(t,e,n){t.exports=n(104)},function(t,e,n){"use strict";var r=n(87)(!0);n(58)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(5),o=n(89),i=n(41),s=n(39)("IE_PROTO"),a=function(){},c=function(){var t,e=n(35)("iframe"),r=i.length;for(e.style.display="none",n(62).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(38);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(93);for(var r=n(1),o=n(14),i=n(21),s=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],f=r[u],l=f&&f.prototype;l&&!l[s]&&o(l,s,u),i[u]=i.Array}},function(t,e,n){var r=n(44),o=n(26),i=n(15),s=n(36),a=n(13),c=n(57),u=Object.getOwnPropertyDescriptor;e.f=n(12)?u:function(t,e){if(t=i(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(85),o=n(96);function i(t){return(i="function"==typeof o&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof o&&t.constructor===o&&t!==o.prototype?"symbol":typeof t})(t)}function s(e){return"function"==typeof o&&"symbol"===i(r)?t.exports=s=function(t){return i(t)}:t.exports=s=function(t){return t&&"function"==typeof o&&t.constructor===o&&t!==o.prototype?"symbol":i(t)},s(e)}t.exports=s},function(t,e,n){t.exports=n(142)},function(t,e,n){var r=n(53),o=n(128);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(157),o=n(160);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}},function(t,e,n){t.exports=!n(12)&&!n(19)(function(){return 7!=Object.defineProperty(n(35)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(20),o=n(4),i=n(59),s=n(14),a=n(21),c=n(88),u=n(29),f=n(63),l=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,d,v,y,m){c(n,e,d);var g,w,b,x=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",E="values"==v,O=!1,T=t.prototype,k=T[l]||T["@@iterator"]||v&&T[v],j=k||x(v),S=v?E?x("entries"):j:void 0,A="Array"==e&&T.entries||k;if(A&&(b=f(A.call(new t)))!==Object.prototype&&b.next&&(u(b,_,!0),r||"function"==typeof b[l]||s(b,l,h)),E&&k&&"values"!==k.name&&(O=!0,j=function(){return k.call(this)}),r&&!m||!p&&!O&&T[l]||s(T,l,j),a[e]=j,a[_]=h,v)if(g={values:E?j:x("values"),keys:y?j:x("keys"),entries:S},m)for(w in g)w in T||i(T,w,g[w]);else o(o.P+o.F*(p||O),e,g);return g}},function(t,e,n){t.exports=n(14)},function(t,e,n){var r=n(13),o=n(15),i=n(91)(!1),s=n(39)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(37),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(13),o=n(50),i=n(39)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(60),o=n(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e){},function(t,e,n){var r=n(4),o=n(0),i=n(19);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(22),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(5),o=n(25),i=n(2)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},function(t,e,n){var r,o,i,s=n(24),a=n(114),c=n(62),u=n(35),f=n(1),l=f.process,p=f.setImmediate,h=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,y=0,m={},g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},w=function(t){g.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){a("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete m[t]},"process"==n(22)(l)?r=function(t){l.nextTick(s(g,t,1))}:v&&v.now?r=function(t){v.now(s(g,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=w,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",w,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(5),o=n(11),i=n(45);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e,n){t.exports=n(106)},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var r=n(9),o=n.n(r),i=n(54),s=n.n(i),a=n(23),c=n.n(a),u=n(6),f=n.n(u),l=n(7),p=n.n(l),h=n(55),d=n.n(h),v=n(18),y=n.n(v),m=n(33),g=n.n(m),w=n(56),b=n.n(w),x=n(16),_=n.n(x),E=n(80),O=n(34),T=_()("squatch-js:EMBEDwidget"),k=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#squatchembed";f()(this,e),n=d()(this,y()(e).call(this,t));var o=document.querySelector(r)||document.querySelector(".squatchembed");if(!o)throw new Error("element with selector '".concat(r,"' not found.'"));return n.element=o,n}return b()(e,t),p()(e,[{key:"load",value:function(){var t=c()(o.a.mark(function t(){var e,n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.element.firstChild&&"#text"!==this.element.firstChild.nodeName||this.element.appendChild(this.frame),e=this.frame.contentWindow){t.next=4;break}throw new Error("Frame needs a content window");case 4:(n=e.document).open(),n.write(this.content),n.write('<script src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.x"><\/script>'),n.close(),Object(O.a)(n,c()(o.a.mark(function t(){var i,a,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.squatch||e.widgetIdent,!(a=n.getElementById("cta"))){t.next=6;break}if(a.parentNode){t.next=5;break}throw new Error("ctaElement needs a parentNode");case 5:a.parentNode.removeChild(a);case 6:return r.frame.height=n.body.scrollHeight,c=new e.ResizeObserver(function(t){var e=!0,n=!1,o=void 0;try{for(var i,a=s()(t);!(e=(i=a.next()).done);e=!0){var c=i.value.contentRect.height;r.frame.height=c}}catch(t){n=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}),t.t0=c,t.next=11,r._findInnerContainer();case 11:t.t1=t.sent,t.t0.observe.call(t.t0,t.t1),r._loadEvent(i),T("loaded");case 15:case"end":return t.stop()}},t,this)})));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"reload",value:function(t,e){var n=this,r=t.email,o=t.firstName,i=t.lastName;if(!this.frame.contentWindow)throw new Error("Frame needs a content window");var s=this.frame.contentWindow.document;this.widgetApi.cookieUser({user:{email:r||null,firstName:o||null,lastName:i||null},engagementMedium:"EMBED",widgetType:this.type,jwt:e}).then(function(t){var e=t.template;if(e){n.content=e;var o=s.createElement("button"),i=s.getElementsByClassName("squatch-register")[0];i&&(o.className="btn btn-primary",o.id="show-stats-btn",o.textContent="REFERRER_WIDGET"===n.type?"Show Stats":"Show Reward",o.setAttribute("style","margin-top: 10px; max-width: 130px; width: 100%;"),o.onclick=function(){n.load()},i.style.paddingTop="30px",i.innerHTML="<p><strong>".concat(r,"</strong><br>Has been successfully registered</p>"),i.appendChild(o))}}).catch(function(t){var e=t.message;T("".concat(e))})}},{key:"_error",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"embed",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g()(y()(e.prototype),"_error",this).call(this,t,n,r)}}]),e}(E.a)},function(t,e,n){var r;t.exports=(r={},(r=function(){this.listeners={}}).prototype={addEventListener:function(t,e,n){for(var r=[],o=arguments.length,i=0;i<o;i++)r.push(arguments[i]);r=r.length>3?r.splice(3,r.length-1):[],void 0!==this.listeners[t]?this.listeners[t].push({scope:n,callback:e,args:r}):this.listeners[t]=[{scope:n,callback:e,args:r}]},removeEventListener:function(t,e,n){if(void 0!==this.listeners[t]){for(var r=this.listeners[t].length,o=[],i=0;i<r;i++){var s=this.listeners[t][i];s.scope==n&&s.callback==e||o.push(s)}this.listeners[t]=o}},hasEventListener:function(t,e,n){if(void 0!==this.listeners[t]){var r=this.listeners[t].length;if(void 0===e&&void 0===n)return r>0;for(var o=0;o<r;o++){var i=this.listeners[t][o];if((!n||i.scope==n)&&i.callback==e)return!0}}return!1},dispatch:function(t,e){for(var n={type:t,target:e},r=[],o=arguments.length,i=0;i<o;i++)r.push(arguments[i]);if(r=r.length>2?r.splice(2,r.length-1):[],r=[n].concat(r),void 0!==this.listeners[t]){var s=this.listeners[t].length;for(i=0;i<s;i++){var a=this.listeners[t][i];if(a&&a.callback){var c=r.concat(a.args);a.callback.apply(a.scope,c)}}}},getEvents:function(){var t="";for(var e in this.listeners)for(var n=this.listeners[e].length,r=0;r<n;r++){var o=this.listeners[e][r];t+=o.scope&&o.scope.className?o.scope.className:"anonymous",t+=" listen for '"+e+"'\n"}return t}},new r)},function(t,e,n){var r=n(69),o=n(2)("iterator"),i=n(21);t.exports=n(0).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return E});var r=n(54),o=n.n(r),i=n(6),s=n.n(i),a=n(7),c=n.n(a),u=n(55),f=n.n(u),l=n(128),p=n.n(l),h=n(18),d=n.n(h),v=n(33),y=n.n(v),m=n(56),g=n.n(m),w=n(16),b=n(32),x=n(34),_=w("squatch-js:CTAwidget"),E=function(t){function e(t,n){var r;s()(this,e),_("CTA constructor");var o=document.createElement("div");return o.id="cta",document.body.appendChild(o),r=f()(this,d()(e).call(this,t,"#cta")),n.side||n.position||(n.position="bottom",n.side="right"),"middle"===n.position?(r.position="top: 45%;",r.side="center"===n.side?"right: 45%;":"".concat(n.side,": -10px;")):(r.position="".concat(n.position,": -10px;"),r.side="center"===n.side?"right: 45%;":"".concat(n.side,": 20px;")),r.positionClass=n.position,r.ctaFrame=document.createElement("iframe"),r.ctaFrame.squatchJsApi=p()(r),r.ctaFrame.scrolling="no",r.ctaFrame.setAttribute("style","border:0; background-color:transparent; position:fixed; display:none;".concat(r.side).concat(r.position)),document.body.appendChild(r.ctaFrame),_("ctaframe appended to body"),r}return g()(e,t),c()(e,[{key:"load",value:function(){if(y()(d()(e.prototype),"load",this).call(this),!this.frame.contentWindow)throw new Error("frame requires a contentWindow");var t=this.frame.contentWindow.document,n=this.ctaFrame,r=this.positionClass;Object(x.a)(t,function(){var e=t.getElementById("cta");if(e){if(!e.parentNode)throw new Error("ctaElement requires a parentNode");e.parentNode.removeChild(e);var i=n.contentWindow;if(!i)throw new Error("ctaFrame requires a contentWindow");var s=i.document;s.open(),s.write(e.innerHTML),s.write('<script src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.x"><\/script>'),s.close(),Object(x.a)(s,function(){var t=s.getElementsByClassName("cta-container")[0];t.style.position="fixed",n.height=t.offsetHeight,n.width=t.scrollWidth,n.style.display="block",t.classList.contains(r)||(t.className+=" ".concat(r)),new i.ResizeObserver(function(t){var e=!0,r=!1,i=void 0;try{for(var s,a=o()(t);!(e=(s=a.next()).done);e=!0){var c=s.value.contentRect,u=c.height,f=c.width;n.height=u,n.width=f}}catch(t){r=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}}).observe(t),_("CTA template loaded into iframe")})}else _(new Error("CTA element not found in theme"))})}},{key:"open",value:function(){y()(d()(e.prototype),"open",this).call(this)}},{key:"close",value:function(){y()(d()(e.prototype),"close",this).call(this)}}]),e}(b.a)},function(t,e,n){"use strict";var r=n(31),o=n.n(r),i=n(9),s=n.n(i),a=n(23),c=n.n(a),u=n(6),f=n.n(u),l=n(7),p=n.n(l),h=n(16),d=n.n(h),v=n(17),y=n.n(v),m=n(8),g=n(3),w=function(){function t(e){f()(this,t);var n=e;Object(g.b)(n,"domain")?this.domain=n.domain:this.domain="https://app.referralsaasquatch.com"}return p()(t,[{key:"pushAnalyticsLoadEvent",value:function(t){var e=encodeURIComponent(t.tenantAlias),n=encodeURIComponent(t.externalAccountId),r=encodeURIComponent(t.externalUserId),o=encodeURIComponent(t.engagementMedium),i=t.programId?"&programId=".concat(encodeURIComponent(t.programId)):"",s="/a/".concat(e,"/widgets/analytics/loaded?externalAccountId=").concat(n,"&externalUserId=").concat(r,"&engagementMedium=").concat(o).concat(i),a=this.domain+s;return Object(m.b)(a,y()({}))}},{key:"pushAnalyticsShareClickedEvent",value:function(t){var e=encodeURIComponent(t.tenantAlias),n=encodeURIComponent(t.externalAccountId),r=encodeURIComponent(t.externalUserId),o=encodeURIComponent(t.engagementMedium),i=encodeURIComponent(t.shareMedium),s="/a/".concat(e,"/widgets/analytics/shared?externalAccountId=").concat(n,"&externalUserId=").concat(r,"&engagementMedium=").concat(o,"&shareMedium=").concat(i),a=this.domain+s;return Object(m.b)(a,y()({}))}}]),t}();n.d(e,"a",function(){return x});var b=d()("squatch-js:widget"),x=function(){function t(e){f()(this,t),b("widget initializing ..."),this.content="error"===e.content?this._error(e.rsCode):e.content,this.type=e.type,this.widgetApi=e.api,this.analyticsApi=new w({domain:e.domain}),this.frame=document.createElement("iframe"),this.frame.squatchJsApi=this,this.frame.width="100%",this.frame.scrolling="no",this.frame.setAttribute("style","border: 0; background-color: none; width: 1px; min-width: 100%;")}return p()(t,[{key:"_loadEvent",value:function(t){if(t){if(!Object(g.c)(t))throw new Error("Widget Load event identity property is not an object");var e;if(Object(g.b)(t,"programId")){if(!Object(g.b)(t,["tenantAlias","accountId","userId","engagementMedium"]))throw new Error("Widget Load event missing required properties");e={tenantAlias:t.tenantAlias,externalAccountId:t.accountId,externalUserId:t.userId,engagementMedium:t.engagementMedium,programId:t.programId}}else{var n=t,r=n.analytics,o=n.mode;e={tenantAlias:r.attributes.tenant,externalAccountId:r.attributes.accountId,externalUserId:r.attributes.userId,engagementMedium:o.widgetMode}}this.analyticsApi.pushAnalyticsLoadEvent(e).then(function(t){b("".concat(e.engagementMedium," loaded event recorded."))}).catch(function(t){b(new Error("pushAnalyticsLoadEvent() ".concat(t)))})}}},{key:"_shareEvent",value:function(t,e){t&&this.analyticsApi.pushAnalyticsShareClickedEvent({tenantAlias:t.analytics.attributes.tenant,externalAccountId:t.analytics.attributes.accountId,externalUserId:t.analytics.attributes.userId,engagementMedium:t.mode.widgetMode,shareMedium:e}).then(function(n){b("".concat(t.mode.widgetMode," share ").concat(e," event recorded. ").concat(n))}).catch(function(t){b(new Error("pushAnalyticsLoadEvent() ".concat(t)))})}},{key:"_inviteContacts",value:function(t,e){t&&this.widgetApi.invite({tenantAlias:t.analytics.attributes.tenant,accountId:t.analytics.attributes.accountId,userId:t.analytics.attributes.userId,emailList:e}).then(function(t){b("Sent email invites to share ".concat(e,". ").concat(t))}).catch(function(t){b(new Error("invite() ".concat(t)))})}},{key:"_error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<!DOCTYPE html>\n    \x3c!--[if IE 7]><html class="ie7 oldie" lang="en"><![endif]--\x3e\n    \x3c!--[if IE 8]><html class="ie8 oldie" lang="en"><![endif]--\x3e\n    \x3c!--[if gt IE 8]>\x3c!--\x3e<html lang="en">\x3c!--<![endif]--\x3e\n    <head>\n      <link rel="stylesheet" media="all" href="https://d2rcp9ak152ke1.cloudfront.net/assets/css/widget/errorpage.css">\n      <style>\n        '.concat(n,'\n      </style>\n    </head>\n    <body>\n\n      <div class="squatch-container ').concat(e,'" style="width:100%">\n        <div class="errorheader">\n          <button type="button" class="close" onclick="window.frameElement.squatchJsApi.close();">&times;</button>\n          <p class="errortitle">Error</p>\n        </div>\n        <div class="errorbody">\n          <div class="sadface"><img src="https://d2rcp9ak152ke1.cloudfront.net/assets/images/face.png"></div>\n          <h4>Our referral program is temporarily unavailable.</h4><br>\n          <p>Please reload the page or check back later.</p>\n          <p>If the persists please contact our support team.</p>\n          <br>\n          <br>\n          <div class="right-align errtxt">\n            Error Code: ').concat(t,"\n          </div>\n        </div>\n      </div>\n    </body>\n    </html>")}},{key:"_findInnerContainer",value:function(){var t=c()(s.a.mark(function t(){var e,n,r,o,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){var t=n.getElementsByTagName("sqh-global-container"),e=n.getElementsByClassName("squatch-container");return t.length>0?t[0]:e.length>0?e[0]:null},e=this.frame.contentWindow){t.next=4;break}throw new Error("Squatch.hs frame inner frame is empty");case 4:n=e.document,o=null,i=0;case 7:if(!(i<50)){t.next=16;break}if(!(o=r())){t.next=11;break}return t.abrupt("break",16);case 11:return t.next=13,_(100);case 13:i++,t.next=7;break;case 16:if(o){t.next=18;break}return t.abrupt("return",n.body);case 18:return t.abrupt("return",o);case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}();function _(t){return new o.a(function(e,n){setTimeout(function(){e()},t)})}},function(t,e,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){t.exports=n(83)},function(t,e,n){n(84);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(4);r(r.S+r.F*!n(12),"Object",{defineProperty:n(10).f})},function(t,e,n){t.exports=n(86)},function(t,e,n){n(48),n(51),t.exports=n(42).f("iterator")},function(t,e,n){var r=n(37),o=n(38);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):i:t?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(49),o=n(26),i=n(29),s={};n(14)(s,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(10),o=n(5),i=n(27);t.exports=n(12)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(15),o=n(61),i=n(92);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),f=i(s,u);if(t&&n!=n){for(;u>f;)if((a=c[f++])!=a)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(37),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";var r=n(94),o=n(95),i=n(21),s=n(15);t.exports=n(58)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=n(97)},function(t,e,n){n(98),n(67),n(102),n(103),t.exports=n(0).Symbol},function(t,e,n){"use strict";var r=n(1),o=n(13),i=n(12),s=n(4),a=n(59),c=n(99).KEY,u=n(19),f=n(40),l=n(29),p=n(28),h=n(2),d=n(42),v=n(43),y=n(100),m=n(65),g=n(5),w=n(11),b=n(15),x=n(36),_=n(26),E=n(49),O=n(101),T=n(52),k=n(10),j=n(27),S=T.f,A=k.f,C=O.f,P=r.Symbol,R=r.JSON,I=R&&R.stringify,L=h("_hidden"),M=h("toPrimitive"),q={}.propertyIsEnumerable,U=f("symbol-registry"),N=f("symbols"),D=f("op-symbols"),W=Object.prototype,F="function"==typeof P,H=r.QObject,z=!H||!H.prototype||!H.prototype.findChild,B=i&&u(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=S(W,e);r&&delete W[e],A(t,e,n),r&&t!==W&&A(W,e,r)}:A,G=function(t){var e=N[t]=E(P.prototype);return e._k=t,e},J=F&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},X=function(t,e,n){return t===W&&X(D,e,n),g(t),e=x(e,!0),g(n),o(N,e)?(n.enumerable?(o(t,L)&&t[L][e]&&(t[L][e]=!1),n=E(n,{enumerable:_(0,!1)})):(o(t,L)||A(t,L,_(1,{})),t[L][e]=!0),B(t,e,n)):A(t,e,n)},$=function(t,e){g(t);for(var n,r=y(e=b(e)),o=0,i=r.length;i>o;)X(t,n=r[o++],e[n]);return t},K=function(t){var e=q.call(this,t=x(t,!0));return!(this===W&&o(N,t)&&!o(D,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,L)&&this[L][t])||e)},V=function(t,e){if(t=b(t),e=x(e,!0),t!==W||!o(N,e)||o(D,e)){var n=S(t,e);return!n||!o(N,e)||o(t,L)&&t[L][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=C(b(t)),r=[],i=0;n.length>i;)o(N,e=n[i++])||e==L||e==c||r.push(e);return r},Y=function(t){for(var e,n=t===W,r=C(n?D:b(t)),i=[],s=0;r.length>s;)!o(N,e=r[s++])||n&&!o(W,e)||i.push(N[e]);return i};F||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(D,n),o(this,L)&&o(this[L],t)&&(this[L][t]=!1),B(this,t,_(1,n))};return i&&z&&B(W,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),T.f=V,k.f=X,n(66).f=O.f=Q,n(44).f=K,n(64).f=Y,i&&!n(20)&&a(W,"propertyIsEnumerable",K,!0),d.f=function(t){return G(h(t))}),s(s.G+s.W+s.F*!F,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)h(Z[tt++]);for(var et=j(h.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!F,"Symbol",{for:function(t){return o(U,t+="")?U[t]:U[t]=P(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!F,"Object",{create:function(t,e){return void 0===e?E(t):$(E(t),e)},defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:V,getOwnPropertyNames:Q,getOwnPropertySymbols:Y}),R&&s(s.S+s.F*(!F||u(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!J(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,I.apply(R,r)}}),P.prototype[M]||n(14)(P.prototype,M,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(28)("meta"),o=n(11),i=n(13),s=n(10).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(19)(function(){return c(Object.preventExtensions({}))}),f=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return u&&l.NEED&&c(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(27),o=n(64),i=n(44);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),c=i.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){var r=n(15),o=n(66).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){n(43)("asyncIterator")},function(t,e,n){n(43)("observable")},function(t,e,n){n(105),t.exports=n(0).Array.isArray},function(t,e,n){var r=n(4);r(r.S,"Array",{isArray:n(65)})},function(t,e,n){n(107),t.exports=n(0).Object.keys},function(t,e,n){var r=n(50),o=n(27);n(68)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){n(67),n(48),n(51),n(109),n(120),n(121),t.exports=n(0).Promise},function(t,e,n){"use strict";var r,o,i,s,a=n(20),c=n(1),u=n(24),f=n(69),l=n(4),p=n(11),h=n(25),d=n(110),v=n(111),y=n(70),m=n(71).set,g=n(115)(),w=n(45),b=n(72),x=n(116),_=n(73),E=c.TypeError,O=c.process,T=O&&O.versions,k=T&&T.v8||"",j=c.Promise,S="process"==f(O),A=function(){},C=o=w.f,P=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[n(2)("species")]=function(t){t(A,A)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,o=1==t._s,i=0,s=function(e){var n,i,s,a=o?e.ok:e.fail,c=e.resolve,u=e.reject,f=e.domain;try{a?(o||(2==t._h&&q(t),t._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===e.promise?u(E("Promise-chain cycle")):(i=R(n))?i.call(n,c,u):c(n)):u(r)}catch(t){f&&!s&&f.exit(),u(t)}};n.length>i;)s(n[i++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(c,function(){var e,n,r,o=t._v,i=M(t);if(i&&(e=b(function(){S?O.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=S||M(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},q=function(t){m.call(c,function(){var e;S?O.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=R(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(U,r,1))}catch(t){U.call(r,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){U.call({_w:n,_d:!1},t)}}};P||(j=function(t){d(this,j,"Promise","_h"),h(t),r.call(this);try{t(u(N,this,1),u(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(117)(j.prototype,{then:function(t,e){var n=C(y(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(U,t,1)},w.f=C=function(t){return t===j||t===s?new i(t):o(t)}),l(l.G+l.W+l.F*!P,{Promise:j}),n(29)(j,"Promise"),n(118)("Promise"),s=n(0).Promise,l(l.S+l.F*!P,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!P),"Promise",{resolve:function(t){return _(a&&this===s?j:this,t)}}),l(l.S+l.F*!(P&&n(119)(function(t){j.all(t).catch(A)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,s=1;v(t,!1,function(t){var a=i++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,o=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(24),o=n(112),i=n(113),s=n(5),a=n(61),c=n(78),u={},f={};(e=t.exports=function(t,e,n,l,p){var h,d,v,y,m=p?function(){return t}:c(t),g=r(n,l,e?2:1),w=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(h=a(t.length);h>w;w++)if((y=e?g(s(d=t[w])[0],d[1]):g(t[w]))===u||y===f)return y}else for(v=m.call(t);!(d=v.next()).done;)if((y=o(v,g,d.value,e))===u||y===f)return y}).BREAK=u,e.RETURN=f},function(t,e,n){var r=n(5);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(21),o=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(1),o=n(71).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(22)(s);t.exports=function(){var t,e,n,u=function(){var r,o;for(c&&(r=s.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(u)}}else n=function(){o.call(r,u)};else{var l=!0,p=document.createTextNode("");new i(u).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(1).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(14);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(10),s=n(12),a=n(2)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];s&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(4),o=n(0),i=n(1),s=n(70),a=n(73);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(4),o=n(45),i=n(72);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var r=n(74);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(t){return this._parser=t,this},o.prototype.responseType=function(t){return this._responseType=t,this},o.prototype.serialize=function(t){return this._serializer=t,this},o.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},o.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~i.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype.use=function(t){return t(this),this},o.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},o.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},o.prototype.get=function(t){return this._header[t.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},o.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},o.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var o in e)this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},o.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},o.prototype.redirects=function(t){return this._maxRedirects=t,this},o.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(t){var e=r(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},o.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},o.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,n){"use strict";var r=n(125);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.get=function(t){return this.header[t.toLowerCase()]},o.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var o in n)this[o]=n[o];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},o.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(9),o=n.n(r),i=n(23),s=n.n(i),a=n(6),c=n.n(a),u=n(7),f=n.n(u),l=n(16),p=n.n(l),h=n(77),d=n(46),v=n(76),y=n(32),m=n(79),g=n(3),w=p()("squatch-js:widgets"),b=function(){function t(e){c()(this,t);var n=e,r=Object(g.d)(n);this.tenantAlias=r.tenantAlias,this.domain=r.domain,this.eventBus=h,this.api=new d.default(r),h.addEventListener("submit_email",t._cb)}return f()(t,[{key:"createCookieUser",value:function(){var t=s()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.cookieUser(e);case 3:return n=t.sent,t.abrupt("return",{widget:this._renderWidget(n,e),user:n.user});case 7:throw t.prev=7,t.t0=t.catch(0),w(t.t0),t.t0.apiErrorCode&&this._renderErrorWidget(t.t0,e.engagementMedium),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"upsertUser",value:function(){var t=s()(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,r=Object(g.e)(n),t.prev=2,t.next=5,this.api.upsertUser(r);case 5:return i=t.sent,t.abrupt("return",{widget:this._renderWidget(i,r),user:i.user});case 9:throw t.prev=9,t.t0=t.catch(2),w(t.t0),t.t0.apiErrorCode&&this._renderErrorWidget(t.t0,e.engagementMedium),t.t0;case 14:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=s()(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,r=Object(g.e)(n),t.prev=2,t.next=5,this.api.cookieUser(r);case 5:return i=t.sent,t.abrupt("return",{widget:this._renderWidget({template:i},r),user:i.user});case 9:throw t.prev=9,t.t0=t.catch(2),t.t0.apiErrorCode&&this._renderErrorWidget(t.t0,r.engagementMedium),t.t0;case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"autofill",value:function(t){var e=t;if("function"!=typeof e){if("string"!=typeof e)throw new Error("Autofill accepts a string or function");var n,r=document.querySelectorAll(e);if(!(r.length>0))throw w("Element id/class or function missing"),new Error("Element id/class or function missing");n=r[0],this.api.squatchReferralCookie().then(function(t){var e=t.code;n.value=e}).catch(function(t){throw t})}else this.api.squatchReferralCookie().then(function(){return e.apply(void 0,arguments)}).catch(function(t){throw w("Autofill error",t),t})}},{key:"submitEmail",value:function(e){h.removeEventListener("submit_email",t._cb),h.addEventListener("submit_email",e)}},{key:"_renderWidget",value:function(e,n){if(w("Rendering Widget..."),!e)throw new Error("Unable to get a response");if(!e.jsOptions)throw new Error("Missing jsOptions in response");var r,o=!1,i=!1,s=e.jsOptions||"",a={content:e.template,type:n.widgetType||s.widget.defaultWidgetType,api:this.api,domain:this.domain};if(s.widgetUrlMappings&&s.widgetUrlMappings.forEach(function(n){t._matchesUrl(n.url)&&("CONVERSION_WIDGET"!==n.widgetType||e.user.referredBy&&e.user.referredBy.code?(o=n.displayOnLoad,i=n.showAsCTA,w("Display ".concat(n.widgetType," on ").concat(n.url))):w("Don't display ".concat(n.widgetType," when no referral on widget rule match ").concat(n.url)))}),s.conversionUrls&&s.conversionUrls.forEach(function(n){e.user.referredBy&&t._matchesUrl(n)&&w("This is a conversion URL",n)}),s.fuelTankAutofillUrls&&(w("We found a fuel tank autofill!"),s.fuelTankAutofillUrls.forEach(function(n){var r=n.url,o=n.formSelector;if(t._matchesUrl(r)&&(w("Fuel Tank URL matches"),e.user.referredBy&&e.user.referredBy.code)){var i=document.querySelector(o);i?i.value=e.user.referredBy.referredReward.fuelTankCode||"":w(new Error("Element with id/class ".concat(o," was not found.")))}})),i||"EMBED"!==n.engagementMedium)if(i||"POPUP"!==n.engagementMedium)if(i){w("display CTA");var c=s.cta.content.buttonSide,u=s.cta.content.buttonPosition;(r=new m.a(a,{side:c,position:u})).load(),o&&r.open()}else w("display popup on load"),(r=new y.a(a)).load(),o&&r.open();else(r=new y.a(a)).load(),o&&r.open();else(r=new v.a(a)).load();return r}},{key:"_renderErrorWidget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POPUP",n=t.apiErrorCode,r=t.rsCode,o=t.message;w(new Error("".concat(n," (").concat(r,") ").concat(o)));var i={content:"error",rsCode:r,api:this.api,domain:this.domain,type:"ERROR_WIDGET"};"EMBED"===e?new v.a(i).load():"POPUP"===e&&new y.a(i).load()}}],[{key:"_matchesUrl",value:function(t){return!!window.location.href.match(new RegExp(t))}},{key:"_cb",value:function(t,e,n){var r;r="string"==typeof n||n instanceof String?{email:n}:n,e.reload(r)}}]),t}()},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){},function(t,e,n){"use strict";function r(){console.log("Having trouble using Squatch.js? Go to https://docs.referralsaasquatch.com/developer/ for tutorials, references and error codes.")}n.d(e,"a",function(){return r})},function(t,e,n){t.exports=n(147)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(47),o=n.n(r),i=n(17),s=n.n(i),a=n(6),c=n.n(a),u=n(7),f=n.n(u),l=n(8),p=n(3),h=function(){function t(e){c()(this,t);var n=e,r=Object(p.d)(n);this.tenantAlias=r.tenantAlias,this.domain=r.domain}return f()(t,[{key:"track",value:function(t,e){var n=e,r=function(t){if(!Object(p.a)(t,"accountId","events","userId"))throw new Error("Fields required");if(!o()(t.events))throw new Error("'events' should be an array");return t}(t),i=function(t){if(!Object(p.c)(t))throw new Error("'options' should be an object");return t}(n).jwt,a=encodeURIComponent(this.tenantAlias),c=encodeURIComponent(r.userId),u=encodeURIComponent(r.accountId),f="/api/v1/".concat(a,"/open/account/").concat(u,"/user/").concat(c,"/events"),h=this.domain+f;return Object(l.b)(h,s()(r),i)}}]),t}()},function(t,e,n){"use strict";function r(){var t=window.squatch||null,e=window._squatch||null;if(t&&e){(e.ready||[]).forEach(function(t){return setTimeout(function(){return t()},0)}),window._squatch=void 0;try{delete window._squatch}catch(t){throw t}}}n.d(e,"a",function(){return r})},,function(t,e,n){t.exports=n(136)},function(t,e,n){"use strict";n.r(e),n.d(e,"api",function(){return b}),n.d(e,"widgets",function(){return x}),n.d(e,"events",function(){return _}),n.d(e,"init",function(){return E}),n.d(e,"ready",function(){return O}),n.d(e,"autofill",function(){return T}),n.d(e,"submitEmail",function(){return k});var r=n(16),o=n.n(r),i=n(127);n.d(e,"Widgets",function(){return i.a});var s=n(76);n.d(e,"EmbedWidget",function(){return s.a});var a=n(32);n.d(e,"PopupWidget",function(){return a.a});var c=n(79);n.d(e,"CtaWidget",function(){return c.a});var u=n(46);n.d(e,"WidgetApi",function(){return u.default});var f=n(132),l=n(133),p=n(3),h=n(129);for(var d in h)["Widgets","EmbedWidget","PopupWidget","CtaWidget","WidgetApi","api","widgets","events","init","ready","autofill","submitEmail","default"].indexOf(d)<0&&function(t){n.d(e,t,function(){return h[t]})}(d);var v=n(130);n.d(e,"help",function(){return v.a}),o.a.disable("squatch-js*");var y=o()("squatch-js"),m=null,g=null,w=null;function b(){return m}function x(){return g}function _(){return w}function E(t){var e=t,n=Object(p.d)(e);(n.tenantAlias.match("^test")||n.debug)&&o.a.enable("squatch-js*"),y("initializing ..."),m=new u.default(n),g=new i.a(n),w=new f.a(n),y("Widget API instance",m),y("Widgets instance",g),y("Events API instance",w)}function O(t){t()}function T(t){x().autofill(t)}function k(t){x().submitEmail(t)}window&&Object(l.a)()},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!f){var t=a(p);f=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||f||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(t,i),s.splice(c,1),c--}return n}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(139),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?a(c=t,i,"day")||a(c,o,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(141),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"==typeof t,f=e.regeneratorRuntime;if(f)u&&(t.exports=f);else{(f=e.regeneratorRuntime=u?t.exports:{}).wrap=b;var l="suspendedStart",p="suspendedYield",h="executing",d="completed",v={},y={};y[s]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(P([])));g&&g!==r&&o.call(g,s)&&(y=g);var w=O.prototype=_.prototype=Object.create(y);E.prototype=w.constructor=O,O.constructor=E,O[c]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},f.awrap=function(t){return{__await:t}},T(k.prototype),k.prototype[a]=function(){return this},f.AsyncIterator=k,f.async=function(t,e,n,r){var o=new k(b(t,e,n,r));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},T(w),w[c]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return a.type="throw",a.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function b(t,e,n,r){var o=e&&e.prototype instanceof _?e:_,i=Object.create(o.prototype),s=new C(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=j(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=x(t,e,n);if("normal"===c.type){if(r=n.done?d:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(t,n,s),i}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function E(){}function O(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,s){var a=x(t[n],t,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(u).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,s)})}s(a.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function j(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=x(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){n(51),n(48),t.exports=n(143)},function(t,e,n){var r=n(5),o=n(78);t.exports=n(0).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){t.exports=n(145)},function(t,e,n){n(146),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){var r=n(50),o=n(63);n(68)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){n(148),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){var r=n(4);r(r.S,"Object",{setPrototypeOf:n(149).set})},function(t,e,n){var r=n(11),o=n(5),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(24)(Function.call,n(52).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports=n(151)},function(t,e,n){n(152);var r=n(0).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(15),o=n(52).f;n(68)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){t.exports=n(154)},function(t,e,n){n(155),t.exports=n(0).Reflect.get},function(t,e,n){var r=n(52),o=n(63),i=n(13),s=n(4),a=n(11),c=n(5);s(s.S,"Reflect",{get:function t(e,n){var s,u,f=arguments.length<3?e:arguments[2];return c(e)===f?e[n]:(s=r.f(e,n))?i(s,"value")?s.value:void 0!==s.get?s.get.call(f):void 0:a(u=o(e))?t(u,n,f):void 0}})},function(t,e,n){var r=n(18);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){t.exports=n(158)},function(t,e,n){n(159);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(4);r(r.S,"Object",{create:n(49)})},function(t,e,n){var r=n(131);function o(e,n){return t.exports=o=r||function(t,e){return t.__proto__=e,t},o(e,n)}t.exports=o}])});